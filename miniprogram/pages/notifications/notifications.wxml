<view class="container">
  <!-- 顶部统计卡片 -->
  <view class="profile-card">
    <image class="notif-icon" src="../../images/icon_bell.png" mode="aspectFit"></image>
    <text class="title-badge">消息通知</text>
    <text class="hint" wx:if="{{notifications.length > 0}}">共收到 {{notifications.length}} 条消息</text>
    <text class="hint" wx:else>暂无消息</text>
  </view>

  <!-- 消息列表 -->
  <view class="form-card" wx:if="{{notifications.length > 0}}">
    <view class="notification-list">
      <view class="notification-item" wx:for="{{notifications}}" wx:key="id">
        <view class="notif-header">
          <text class="notif-title">{{item.title}}</text>
          <text class="notif-time">{{item.timeFormatted || '刚刚'}}</text>
        </view>
        <view class="notif-content">{{item.content}}</view>
        <button class="action-btn" wx:if="{{item.action==='claim_64'}}" bindtap="claimAchievement" data-id="{{item.id}}">领取惊喜</button>
      </view>
    </view>
  </view>
  
  <view class="empty-state" wx:else>
    <text>暂无消息</text>
  </view>
</view>